I"Ø<h2 id="ì¤€ì˜ì†-ìƒíƒœ"><span style="color:MediumSeaGreen">ì¤€ì˜ì† ìƒíƒœ</span></h2>
<ul>
  <li>ì¤€ì˜ì† ìƒíƒœë€, <code class="language-plaintext highlighter-rouge">ì˜ì†ìƒíƒœì˜ ì—”í‹°í‹°ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬ëœ ê²ƒ</code>ì´ë‹¤.</li>
  <li>ì¤€ì˜ì† ìƒíƒœê°€ ë˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥(ë³€ê²½ ê°ì§€)ì„ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤.</li>
</ul>

<hr />

<h2 id="ì¤€ì˜ì†-ìƒíƒœë¡œ-ë§Œë“œëŠ”-ë°©ë²•"><span style="color:MediumSeaGreen">ì¤€ì˜ì† ìƒíƒœë¡œ ë§Œë“œëŠ” ë°©ë²•</span></h2>

<h6 id="emdetachentity"><span style="color:DodgerBlue">em.detach(entity)</span></h6>
<ul>
  <li>íŠ¹ì • ì—”í‹°í‹°ë§Œ ì¤€ì˜ì† ìƒíƒœë¡œ ì „í™˜</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Member</span> <span class="n">findMember</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">2L</span><span class="o">);</span>
<span class="n">findMember</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"hyuuny"</span><span class="o">);</span>

<span class="c1">// findMemberë¥¼ ì¤€ì˜ì† ìƒíƒœë¡œ ë³€ê²½í•œë‹¤.</span>
<span class="n">em</span><span class="o">.</span><span class="na">detach</span><span class="o">(</span><span class="n">findMember</span><span class="o">);</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"member : "</span> <span class="o">+</span> <span class="n">findMember</span><span class="o">);</span>

<span class="n">tx</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
</code></pre></div></div>

<p><img src="/assets/images/jpa/detach/detach1.png" alt="img.png" /></p>

<ul>
  <li>findMemberì˜ nameì„ â€œhyuunyâ€ë¡œ ë³€ê²½í•˜ì˜€ì§€ë§Œ, <code class="language-plaintext highlighter-rouge">commit()ì „ì— ì¤€ì˜ì† ìƒíƒœê°€ ë˜ì–´ update ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ì§€ ì•ŠëŠ”ë‹¤.</code></li>
</ul>

<h6 id="emclear"><span style="color:DodgerBlue">em.clear()</span></h6>
<ul>
  <li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì™„ì „íˆ ì´ˆê¸°í™”</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì˜ì† (1ë²ˆì§¸ select query)</span>
<span class="nc">Member</span> <span class="n">findMember</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">2L</span><span class="o">);</span>
<span class="n">findMember</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"hyuuny"</span><span class="o">);</span>

<span class="c1">// ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™”</span>
<span class="n">em</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>

<span class="c1">// select query ë°œìƒ (2ë²ˆì§¸ select query)</span>
<span class="nc">Member</span> <span class="n">reFindMember</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">2L</span><span class="o">);</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"member : "</span> <span class="o">+</span> <span class="n">findMember</span><span class="o">);</span>

<span class="n">tx</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
</code></pre></div></div>

<p><img src="/assets/images/jpa/detach/detach2.png" alt="img.png" /></p>
<ul>
  <li>clear()ë¥¼ ì‚¬ìš©í•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™” í–ˆê¸° ë•Œë¬¸ì— Idê°€ 2Lì¸ ê°ì²´ë¥¼ findí•  ë•Œ ë‹¤ì‹œ select ì¿¼ë¦¬ë¥¼ ë‚ ë¦°ë‹¤.</li>
</ul>
:ET