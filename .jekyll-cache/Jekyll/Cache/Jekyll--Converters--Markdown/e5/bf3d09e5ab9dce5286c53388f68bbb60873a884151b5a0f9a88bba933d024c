I"&<p><strong>컨테이너 인프라 환경이란 리눅스 운영 체제의 커널 하나에서 여러 개의 컨테이너가 격리된 상태로 실행되는 인프라 환경을 말한다</strong>. 여기서 컨테이너는 하나 이상의 목적을 위해 독립적으로 작동하는 프로세스를 뜻한다.</p>

<h2 id="컨테이너-오케스트레이션"><span style="color:MediumSeaGreen">컨테이너 오케스트레이션</span></h2>
<p>실제로 쿠버네스트는 컨테이너 오케스트레이션을 위한 솔루션으로, <strong>오케스트레이션이란 복잡한 단계를 관리하고 요소들의 유기적인 관계를 미리 정의해 손쉽게 사용하도록 서비스를 제공하는 것을 뜻한다</strong>.</p>

<p>다수의 컨테이너를 유기적으로 연결, 실행, 종료할 뿐만 아니라 상태를 추적하고 보존하는 등 컨테이너를 안정적으로 사용할 수 있게 만들어주는 것이 컨테이너 오케스트레이션이다.</p>

<hr />

<h6 id="도커-스웜docker-swarm"><span style="color:DodgerBlue">도커 스웜(Docker Swarm)</span></h6>
<p>간단하게 설치할 수 있고 사용하기도 용이하다. 그러나 그만큼 기능이 다양하지 않아 대규모 환경에 적용하려면 사용자 환경을 변경해야 할 수 있다. 그리하여 <code class="language-plaintext highlighter-rouge">소규모 환경에서는 유용하지만, 대규모 환경에서는 잘 사용하지 않는다.</code></p>

<hr />

<h6 id="메소스mesos"><span style="color:DodgerBlue">메소스(Mesos)</span></h6>
<p>아파치의 오픈 소스 프로젝트로 역사와 전통이 있는 클러스터 도구이며 다양한 곳에서 충분히 검증된 솔루션이다. 메소스는 매우 간결하지만, <code class="language-plaintext highlighter-rouge">기능을 충분히 활용하려면 분산 관리 시스탬과 연동해야 하기 때문에 여러가지 솔루션을 유기적으로 구성해야 하는 부담이 있다.</code></p>

<hr />

<h6 id="노매드nomad"><span style="color:DodgerBlue">노매드(Nomad)</span></h6>
<p>베어그런트를 만든 해시코프사의 컨테이너 오케스트레이션으로, 베이그런트처럼 간단한 구성으로 컨테이너 오케스트레이션 환경을 제공한다. 하지만 도커 스웜과 마찬가지로 기능이 부족하므로 복잡하게 여러 기능을 사용하는 환경이 아닌 가볍고 간단한 기능만 필요한 환경에서 사용하는 것이 좋다.</p>

<hr />

<h6 id="쿠버네티스kubernetes"><span style="color:DodgerBlue">쿠버네티스(Kubernetes)</span></h6>
<p>다른 오케스트레이션 솔루션보다는 시작하는 데 어려움이 있지만, 쉽게 사용할 수 있도록 도와주는 도구들이 있어서 설치가 쉬워지는 추세이다. 또 다양한 형태의 쿠버네티스가 지속적으로 계속 발전되고 있어 컨테이너 오케스트레이션을 넘어 IT 인프라 자체를 컨테이너화하고, 컨테이너화된 인프라 제품군을 쿠버네티스 위에서 동작할 수 있게 만든다.</p>

<hr />

<ul>
  <li>컨테이너 오케스트레이션 솔루션 비교</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">구분</th>
      <th style="text-align: center">도커 스윔</th>
      <th style="text-align: center">메소스</th>
      <th style="text-align: center">노매드</th>
      <th style="text-align: center">쿠버네티스</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">설치 난이도</td>
      <td style="text-align: center">쉬움</td>
      <td style="text-align: center">매우 어려움</td>
      <td style="text-align: center">쉬움</td>
      <td style="text-align: center">어려움</td>
    </tr>
    <tr>
      <td style="text-align: center">사용 편의성</td>
      <td style="text-align: center">매우 좋음</td>
      <td style="text-align: center">좋음</td>
      <td style="text-align: center">매우 좋음</td>
      <td style="text-align: center">좋음</td>
    </tr>
    <tr>
      <td style="text-align: center">세부 설정 지원</td>
      <td style="text-align: center">거의 없음</td>
      <td style="text-align: center">있음</td>
      <td style="text-align: center">거의 없음</td>
      <td style="text-align: center">다양하게 있음</td>
    </tr>
    <tr>
      <td style="text-align: center">안정성</td>
      <td style="text-align: center">매우 안정적임</td>
      <td style="text-align: center">안정적임</td>
      <td style="text-align: center">안정적엄</td>
      <td style="text-align: center">매우 안정적임</td>
    </tr>
    <tr>
      <td style="text-align: center">확장성</td>
      <td style="text-align: center">어려움</td>
      <td style="text-align: center">매우 잘 됨</td>
      <td style="text-align: center">어려움</td>
      <td style="text-align: center">매우 잘 됨</td>
    </tr>
    <tr>
      <td style="text-align: center">정보량</td>
      <td style="text-align: center">많음</td>
      <td style="text-align: center">적음</td>
      <td style="text-align: center">적음</td>
      <td style="text-align: center">매우 많음</td>
    </tr>
    <tr>
      <td style="text-align: center">에코 파트너</td>
      <td style="text-align: center">없음</td>
      <td style="text-align: center">거의 없음</td>
      <td style="text-align: center">있음</td>
      <td style="text-align: center">매우 많음</td>
    </tr>
    <tr>
      <td style="text-align: center">학습 곡선</td>
      <td style="text-align: center">쉬움</td>
      <td style="text-align: center">매우 어려움</td>
      <td style="text-align: center">어려움</td>
      <td style="text-align: center">어려움</td>
    </tr>
  </tbody>
</table>

<hr />

<h6 id="쿠버네티스-구성-방법"><span style="color:DodgerBlue">쿠버네티스 구성 방법</span></h6>
<ol>
  <li>
    <p>퍼블릭 클라우드 업체에서 제공하는 <strong>관리형 쿠버네티스</strong>인 EKS, AKS, GKE 등을 사용한다. 구성이 이미 갖춰져 있고 마스터 노드를 크라우드 업체에서 관리함으로 학습용으로는 부적합하다.</p>
  </li>
  <li>
    <p>수세의 Rancher, 레드햇의 OpenShift와 같은 플랫폼에서 제공하는 <strong>설치형 쿠버네티스</strong>를 사용한다. <code class="language-plaintext highlighter-rouge">허나 유료다.</code></p>
  </li>
  <li>
    <p>사용하는 시스템에 쿠버네티스 클러스터를 <strong>자동으로 구성해주는 솔루션을 사용</strong>한다. 주요 솔루션으로는 kubeadm, kops, KBIB, kubespray가 있다. 이 중 kubeadm이 가장 잘 알려져 있고, 사용자가 변경하기도 수월하며, 온프레미스와 클라우드를 모두 지원한다.</p>
  </li>
</ol>

<hr />

<ul>
  <li>쿠버네티스 클러스터 구성 솔루션 비교</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">구분</th>
      <th style="text-align: center">도커 스윔</th>
      <th style="text-align: center">메소스</th>
      <th style="text-align: center">노매드</th>
      <th style="text-align: center">쿠버네티스</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">정보량</td>
      <td style="text-align: center">적음</td>
      <td style="text-align: center">많음</td>
      <td style="text-align: center">많음</td>
      <td style="text-align: center">매우 많음</td>
    </tr>
    <tr>
      <td style="text-align: center">세부 설정 변경</td>
      <td style="text-align: center">가능함</td>
      <td style="text-align: center">가능함</td>
      <td style="text-align: center">제한적으로 가능함</td>
      <td style="text-align: center">다양함</td>
    </tr>
    <tr>
      <td style="text-align: center">사전 요구 조건</td>
      <td style="text-align: center">적음</td>
      <td style="text-align: center">적음</td>
      <td style="text-align: center">적음</td>
      <td style="text-align: center">매우 적음</td>
    </tr>
    <tr>
      <td style="text-align: center">온프레미스 지원</td>
      <td style="text-align: center">매우 좋음</td>
      <td style="text-align: center">안됨</td>
      <td style="text-align: center">좋음</td>
      <td style="text-align: center">매우 좋음</td>
    </tr>
    <tr>
      <td style="text-align: center">클라우드 지원</td>
      <td style="text-align: center">안 됨</td>
      <td style="text-align: center">매우 좋음</td>
      <td style="text-align: center">좋음</td>
      <td style="text-align: center">좋음</td>
    </tr>
    <tr>
      <td style="text-align: center">학습 곡선</td>
      <td style="text-align: center">매우 어려움</td>
      <td style="text-align: center">어려움</td>
      <td style="text-align: center">쉬움</td>
      <td style="text-align: center">어려움</td>
    </tr>
    <tr>
      <td style="text-align: center">자동화 기능</td>
      <td style="text-align: center">제공됨</td>
      <td style="text-align: center">제공됨</td>
      <td style="text-align: center">쉽게 제공됨</td>
      <td style="text-align: center">제한적으로 제공됨</td>
    </tr>
  </tbody>
</table>

<hr />

<h6 id="파드를-배포할-때"><span style="color:DodgerBlue">파드를 배포할 때</span></h6>
<p>쿠버네스트의 구성 요소의 유기적인 연결관계를 그림으로 표현하면 다음과 같다. 그림에 나와 있는 숫자는 실제로 관리자나 개발자가 파드 배포 명령을 수행했을 때 실행되는 순서다.</p>

<p><img src="/assets/images/kubernetes1.jpeg" alt="img.png" /></p>

<hr />

<p><span style="color:DarkOrange">reference</span><br />
조훈·심근우·문성주 (2021). 컨테이너 인프라 환경 구축을 위한 쿠버네티스/도커. 길벗</p>
:ET